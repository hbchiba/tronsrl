(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d7ae0"],{"789b":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-dialog",{staticClass:"notice-model",attrs:{title:t.$t("Latestannouncement"),"show-confirm-button":!1},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("div",{staticClass:"notice-model-content",domProps:{innerHTML:t._s(t.message)}}),n("div",{staticClass:"notice-model-indicators"},t._l(t.list.length,(function(e,s){return n("i",{staticClass:"notice-model-indicator",class:{active:t.curIndex==s}})})),0),n("div",{staticClass:"notice-model-btns"},[n("button",{staticClass:"btn",class:t.preCls,attrs:{disabled:""!=t.preCls},on:{click:function(e){return t.onClick(-1)}}},[t._v(t._s(t.$t("Previons")))]),n("button",{staticClass:"btn close",on:{click:function(e){t.show=!1}}},[t._v(t._s(t.$t("Close")))]),n("button",{staticClass:"btn",class:t.nextCls,attrs:{disabled:""!=t.nextCls},on:{click:function(e){return t.onClick(1)}}},[t._v(t._s(t.$t("Next")))])])])},c=[],i=(n("4de4"),n("96cf"),n("1da1")),r=n("5530"),a=n("365c"),o=n("2f62"),l={name:"AnnouncementModel",data:function(){return{show:!1,list:[],curIndex:0,query:{page:1,rows:30,type:"all"},isFetchedUserInfo:!1}},computed:Object(r["a"])(Object(r["a"])({},Object(o["c"])(["userInfo"])),{},{lastIndex:function(){return Math.max(this.list.length-1,0)},message:function(){var t=this.list[this.curIndex];return t?t.content:""},preCls:function(){return 0==this.curIndex?"disabled":""},nextCls:function(){return this.curIndex==this.lastIndex?"disabled":""}}),methods:{fetchData:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,s,c,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a["fetchNotice"](t.query);case 3:if(n=e.sent,s=n.code,n.msg,c=n.data,i=n.list,0==s){e.next=10;break}return e.abrupt("return");case 10:if(r=i||c.list||[],r=r.filter((function(t){return 1==t.showHome})),r.length){e.next=14;break}return e.abrupt("return");case 14:t.list=r,t.curIndex=0,t.show=!0,e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](0),console.log(e.t0);case 22:return e.prev=22,e.finish(22);case 24:case"end":return e.stop()}}),e,null,[[0,19,22,24]])})))()},onClick:function(t){var e;1==t&&(e=Math.min(this.curIndex+t,this.lastIndex)),-1==t&&(e=Math.max(this.curIndex+t,0)),this.curIndex=e}},watch:{userInfo:{handler:function(t){null!=t&&(this.isFetchedUserInfo||(this.isFetchedUserInfo=!0,this.fetchData()))},immediate:!0}}},u=l,d=n("0c7c"),h=Object(d["a"])(u,s,c,!1,null,null,null);e["default"]=h.exports}}]);